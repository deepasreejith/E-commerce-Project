<%-include('../layouts/admin_header.ejs') %>

<div id="page-content-wrapper" style="margin-left: 200px;">
    <h5 style="margin-top: 20px;text-align: center;margin-top: 20px;"><strong>EDIT BANNER</strong></h5>
    <hr>
    <div class="container" style="width: 50%; height: auto; margin-top: 100px;border: 2px solid #dbcdcd; padding: 20px;box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3); ">
     <form action="" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label><b>Select Image</b></label>
            <br>
            <img id="bannerImage" src="bannerimages/<%= banner.image %>" width="150px" height="50px" alt="<%= banner.image %>">
        
         <div class="form-group">
          
          <input type="text" name="cimage" class="form-control" value="<%= banner.image %>" id="banner" style="display: none;" >
      </div>
      <br>
            <input type="file" name="image" class="form-control-file" id="exampleFormControlFile1" >
            
          </div>
          <br>
          <label><b>Select Link</b></label>
          <br>
         <input type="text" class="form-control" value="<%= banner.link %>" name="link">
          <br>
          <button class="btn btn-dark "  type="submit">Update</button>
        <br>
     </form>
    </div>
</div>
<script>
    const bannerImage = document.getElementById('bannerImage');
    console.log(bannerImage)
    const imageInput = document.getElementById('exampleFormControlFile1');
    imageInput.addEventListener('change', function () {
    const selectedImage = this.files[0]; // Get the selected file

    if (selectedImage) {
     const imageURL = URL.createObjectURL(selectedImage); // Create a URL for the selected image
     bannerImage.src = imageURL; // Update the image source
     console.log("new url:"+imageURL)
     }
    });
</script>

<%-include('../layouts/admin_footer.ejs') %>